<template>
  <div class="simoo-coms-bar">
    <div class="simoo-com" v-for="component in components" draggable="true" :key="component.type"
      @dragstart="onDragStart(component, $event)" :title="component.type">
      {{ component.name }}
    </div>
    <img class="image-node" width="20px" src="http://gips2.baidu.com/it/u=1674525583,3037683813&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024">
  </div>
</template>

<script lang="ts" setup>
import { ref } from 'vue'

// ç»„ä»¶åˆ—è¡¨
const components = ref([
  { type: 'note', name: 'ğŸ“' },
  { type: 'column', name: 'ğŸ“Š' },
  { type: 'toBoard', name: 'ğŸ“‹' },
  { type: 'image', name: 'ğŸ–¼' }
])

// æ‹–æ‹½å¼€å§‹äº‹ä»¶å¤„ç†
const onDragStart = (component: { type: string; name: string }, event: DragEvent) => {
  // è®¾ç½®æ‹–æ‹½æ•°æ®
  event.dataTransfer!.setData('text/plain', component.type);
}


</script>

<style scoped lang="scss">
.simoo-coms-bar {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 100px;
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;

  .simoo-com {
    width: 80px;
    height: 80px;
    font-size: 34px;
    background-color: #f0f0f0;
    margin-bottom: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    /* ç¦æ­¢ç”¨æˆ·é€‰ä¸­æ–‡å­— */
    user-select: none;

    &:hover {
      background-color: #e0e0e0;
    }
  }
}
</style>
